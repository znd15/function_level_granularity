
shutdown_callback_client(struct nfs4_client *clp)
{
	struct rpc_clnt *clnt = clp->cl_cb_conn.cb_client;

	if (clnt) {
		/*
 * Callback threads take a reference on the client, so there
 * should be no outstanding callbacks at this point.
 */
		clp->cl_cb_conn.cb_client = NULL;
		rpc_shutdown_client(clnt);
	}
	if (clp->cl_cb_conn.cb_cred) {
		put_rpccred(clp->cl_cb_conn.cb_cred);
		clp->cl_cb_conn.cb_cred = NULL;
	}
}