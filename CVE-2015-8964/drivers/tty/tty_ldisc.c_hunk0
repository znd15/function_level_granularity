
EXPORT_SYMBOL_GPL(tty_ldisc_flush);

/**
 * tty_set_termios_ldisc - set ldisc field
 * @tty: tty structure
 * @num: line discipline number
 *
 * This is probably overkill for real world processors but
 * they are not on hot paths so a little discipline won't do
 * any harm.
 *
 * Locking: takes termios_rwsem
 */

static void tty_set_termios_ldisc(struct tty_struct *tty, int num)
{
	down_write(&tty->termios_rwsem);
	tty->termios.c_line = num;
	up_write(&tty->termios_rwsem);
}